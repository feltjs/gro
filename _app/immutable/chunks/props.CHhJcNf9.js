import{b as T,H as q,r as D,c as h,d as b,e as g,E as L,g as N,f as O,L as U,P as Y,s as k,h as o,i as y,j as C,k as F,u as H,l as A,m as M,o as j,q as x}from"./runtime.DRhwkgl6.js";import{h as z,b as p,d as B}from"./disclose-version.BJv7zzrQ.js";function Z(n,i,f,l=null,c=!1){var r=null,t=null,a=null,u=c?L:0;T(()=>{if(a===(a=!!i()))return;let s=!1;if(z){const _=n.data===q;a===_&&(D(B),p(!1),s=!0)}a?(r?h(r):r=b(()=>f(n)),t&&g(t,()=>{t=null})):(t?h(t):l&&(t=b(()=>l(n))),r&&g(r,()=>{r=null})),s&&p(!0)},u)}function w(n,i,f,l){var R;var c=(f&C)!==0,r=(f&F)!==0,t=(f&j)!==0,a=n[i],u=(R=N(n,i))==null?void 0:R.set,s=l,_=!0,S=()=>(t&&_&&(_=!1,s=H(l)),s);a===void 0&&l!==void 0&&(u&&r&&O(),a=S(),u&&u(a));var v;if(r)v=()=>{var e=n[i];return e===void 0?S():(_=!0,e)};else{var I=(c?A:M)(()=>n[i]);I.f|=U,v=()=>{var e=o(I);return e!==void 0&&(s=void 0),e===void 0?s:e}}if(!(f&Y))return v;if(u)return function(e){return arguments.length===1?(u(e),e):v()};var m=!1,E=x(a),d=A(()=>{var e=v(),P=o(E);return m?(m=!1,P):E.v=e});return c||(d.equals=k),function(e){var P=o(d);return arguments.length>0?(d.equals(e)||(m=!0,y(E,e),o(d),d.version++),e):P}}export{Z as i,w as p};
