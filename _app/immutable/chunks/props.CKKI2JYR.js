import{b as O,H as p,r as b,c as h,d as A,E as q,e as y,L as U,P as Y,f as k,g as o,h as C,i as F,j as H,u as M,k as T,l as $,m as j,o as w}from"./runtime.D3gJ5qpc.js";import{h as x,r as z,b as D,d as B,g as G}from"./disclose-version.eLoI9Jyp.js";function J(r,s,i,l=null,m=!1){var a=null,n=null,u=null,t=m?q:0;O(r,t,()=>{if(u===(u=!!s()))return;let f=!1;if(x){const d=r.data===p;u===d&&(z(B),D(!1),f=!0)}u?(a?b(a):a=h(()=>i(r)),n&&A(n,()=>{n=null})):(n?b(n):l&&(n=h(()=>l(r))),a&&A(a,()=>{a=null})),f&&D(!0)})}function K(r,s,i,l){var I;var m=(i&F)!==0,a=(i&H)!==0,n=(i&j)!==0,u=r[s],t=(I=G(r,s))==null?void 0:I.set,f=l,d=!0,S=()=>(n&&d&&(d=!1,f=M(l)),f);u===void 0&&l!==void 0&&(t&&a&&y(),u=S(),t&&t(u));var _;if(a)_=()=>{var e=r[s];return e===void 0?S():(d=!0,e)};else{var g=(m?T:$)(()=>r[s]);g.f|=U,_=()=>{var e=o(g);return e!==void 0&&(f=void 0),e===void 0?f:e}}if(!(i&Y))return _;if(t){var L=r.$$legacy;return function(e,v){return arguments.length>0?((!a||!v||L)&&t(v?_():e),e):_()}}var E=!1,P=w(u),c=T(()=>{var e=_(),v=o(P);return E?(E=!1,v):P.v=e});return m||(c.equals=k),function(e,v){var N=o(c);if(arguments.length>0){const R=v?o(c):e;return c.equals(R)||(E=!0,C(P,R),o(c)),e}return N}}export{J as i,K as p};
