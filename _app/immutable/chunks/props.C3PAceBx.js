import{e as L,r as A,f as b,i as h,E as N,j as O,L as k,k as y,g as o,b as U,u as Y,l as T,n as w,m as C}from"./runtime.DT7e6tCC.js";import{k as F,p as M,r as $,q as p,n as j,g as x,P as z,u as B,v as G,w as H}from"./disclose-version.CH8sjwdA.js";function J(a,s,i,l=null,m=!1){var r=null,u=null,n=null,t=m?N:0;L(()=>{if(n===(n=!!s()))return;let f=!1;if(F){const d=a.data===M;n===d&&($(j),p(!1),f=!0)}n?(r?A(r):r=b(()=>i(a)),u&&h(u,()=>{u=null})):(u?A(u):l&&(u=b(()=>l(a))),r&&h(r,()=>{r=null})),f&&p(!0)},t)}function K(a,s,i,l){var I;var m=(i&B)!==0,r=(i&G)!==0,u=(i&H)!==0,n=a[s],t=(I=x(a,s))==null?void 0:I.set,f=l,d=!0,S=()=>(u&&d&&(d=!1,f=Y(l)),f);n===void 0&&l!==void 0&&(t&&r&&O(),n=S(),t&&t(n));var _;if(r)_=()=>{var e=a[s];return e===void 0?S():(d=!0,e)};else{var g=(m?T:w)(()=>a[s]);g.f|=k,_=()=>{var e=o(g);return e!==void 0&&(f=void 0),e===void 0?f:e}}if(!(i&z))return _;if(t){var q=a.$$legacy;return function(e,v){return arguments.length>0?((!r||!v||q)&&t(v?_():e),e):_()}}var E=!1,P=C(n),c=T(()=>{var e=_(),v=o(P);return E?(E=!1,v):P.v=e});return m||(c.equals=y),function(e,v){var D=o(c);if(arguments.length>0){const R=v?o(c):e;return c.equals(R)||(E=!0,U(P,R),o(c)),e}return D}}export{J as i,K as p};
