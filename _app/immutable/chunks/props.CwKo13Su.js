import{l as p,r as A,m as T,q as b,E as D,g as N,v as x,L as U,w as Y,f as o,e as k,u as w,x as q,y as z,z as C}from"./runtime.YS-gNbUI.js";import{h as S,d as F,H,e as M,g as $,i as y,b as j,P as B,j as G,k as V,l as Z}from"./disclose-version.Co2svW8Z.js";function Q(u,s,f,i=null,m=!1){S&&F();var r=u,t=null,a=null,n=null,l=m?D:0;p(()=>{if(n===(n=!!s()))return;let _=!1;if(S){const h=r.data===H;n===h&&(r=M(),$(r),y(!1),_=!0)}n?(t?A(t):t=T(()=>f(r)),a&&b(a,()=>{a=null})):(a?A(a):i&&(a=T(()=>i(r))),t&&b(t,()=>{t=null})),_&&y(!0)},l),S&&(r=j)}function W(u,s,f,i){var g;var m=(f&G)!==0,r=(f&V)!==0,t=(f&Z)!==0,a=u[s],n=(g=N(u,s))==null?void 0:g.set,l=i,_=!0,h=()=>(t&&_&&(_=!1,l=w(i)),l);a===void 0&&i!==void 0&&(n&&r&&x(),a=h(),n&&n(a));var v;if(r)v=()=>{var e=u[s];return e===void 0?h():(_=!0,e)};else{var R=(m?q:z)(()=>u[s]);R.f|=U,v=()=>{var e=o(R);return e!==void 0&&(l=void 0),e===void 0?l:e}}if(!(f&B))return v;if(n){var L=u.$$legacy;return function(e,d){return arguments.length>0?((!r||!d||L)&&n(d?v():e),e):v()}}var P=!1,E=C(a),c=q(()=>{var e=v(),d=o(E);return P?(P=!1,d):E.v=e});return m||(c.equals=Y),function(e,d){var O=o(c);if(arguments.length>0){const I=d?o(c):e;return c.equals(I)||(P=!0,k(E,I),o(c)),e}return O}}export{Q as i,W as p};
